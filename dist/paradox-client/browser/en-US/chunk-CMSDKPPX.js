import{$ as w,A as h,B as E,C as y,D as F,E as f,F as L,G as R,H as g,I as b,K as v,L as $,M as G,O as I,a as A,da as x,fa as V,ga as B,ia as D,k as P,ka as X,l as T,ma as U,n as u,o as O,p as N,pa as z,qa as q,ra as W,t as s,ta as j,u as c,v as M,w as l,x as a,y as _,z as S}from"./chunk-NEEIR2P7.js";var k=(()=>{let e=class e{transform(i,t=""){return t==""?i:i.filter(n=>n.platform==t);}};e.ɵfac=function(t){return new(t||e)();},e.ɵpipe=u({name:"platform",type:e,pure:!0,standalone:!0});let r=e;return r;})();var H=(()=>{let e=class e{transform(i,t=0,n=100){return i.filter(o=>o.price>=t&&o.price<=n);}};e.ɵfac=function(t){return new(t||e)();},e.ɵpipe=u({name:"price",type:e,pure:!0,standalone:!0});let r=e;return r;})();var J=(()=>{let e=class e{transform(i,t=""){return t==""?i:i.filter(n=>{let o=n.name.toLowerCase(),p=t.toLowerCase();return o.includes(p);});}};e.ɵfac=function(t){return new(t||e)();},e.ɵpipe=u({name:"name",type:e,pure:!0,standalone:!0});let r=e;return r;})();var K=(()=>{let e=class e{transform(i,t){let n=new k(),o=new H(),p=new J(),m=i;return m=n.transform(m,t.currentPlatform),m=o.transform(m,t.priceMin,t.priceMax),m=p.transform(m,t.nameFilter),m;}};e.ɵfac=function(t){return new(t||e)();},e.ɵpipe=u({name:"catalog",type:e,pure:!0,standalone:!0});let r=e;return r;})();function Q(r,e){if(r&1&&(l(0,"option",8),g(1),a()),r&2){let d=e.$implicit;R("value",d),s(1),b(d);}}function Y(r,e){if(r&1){let d=S();l(0,"app-product",9),f("onBuy",function(t){O(d);let n=L();return N(n.onBuyProduct(t));}),a();}if(r&2){let d=e.$implicit;c("currentProduct",d)("detailed",!1)("buyable",!0)("redirectable",!0);}}var _e=(()=>{let e=class e{constructor(){this.products=[],this.currentPlatform="",this.priceMin=0,this.priceMax=100,this.nameFilter="",this.numProducts=0,this._catalog=P(V),this._activatedRoute=P(w);}ngOnInit(){return A(this,null,function*(){let i=this._activatedRoute.snapshot.data;this.products=i.catalog||[],this.numProducts=this.products.length;});}getFilters(){return{currentPlatform:this.currentPlatform,priceMin:this.priceMin,priceMax:this.priceMax,nameFilter:this.nameFilter};}getPlatforms(){let i=this.products.map(o=>o.platform),t=new Set(i),n=Array.from(t);return n.unshift(""),n;}onBuyProduct(i){this._catalog.buy(i);}};e.ɵfac=function(t){return new(t||e)();},e.ɵcmp=T({type:e,selectors:[["app-catalog"]],standalone:!0,features:[v],decls:22,vars:11,consts:()=>{let i;i="Platform: ";let t;t="{VAR_PLURAL, plural, =0 {there is no products} =1 {there is one product} other {there is {INTERPOLATION} product }}",t=F(t,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let n;return n=" Welcome "+t+" ",[[1,"catalog"],i,[1,"platforms",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModel","ngModelChange"],["type","string",3,"ngModel","ngModelChange"],n,[3,"currentProduct","detailed","buyable","redirectable","onBuy",4,"ngFor","ngForOf"],[3,"value"],[3,"currentProduct","detailed","buyable","redirectable","onBuy"]];},template:function(t,n){t&1&&(l(0,"div",0)(1,"label"),h(2,1),a(),l(3,"select",2),f("ngModelChange",function(p){return n.currentPlatform=p;}),M(4,Q,2,2,"option",3),a(),_(5,"br"),l(6,"label"),g(7,"Prix min: "),a(),l(8,"input",4),f("ngModelChange",function(p){return n.priceMin=p;}),a(),_(9,"br"),l(10,"label"),g(11,"Prix max: "),a(),l(12,"input",4),f("ngModelChange",function(p){return n.priceMax=p;}),a(),_(13,"br"),l(14,"label"),g(15,"Nom: "),a(),l(16,"input",5),f("ngModelChange",function(p){return n.nameFilter=p;}),a(),_(17,"br"),l(18,"p"),h(19,6),a(),M(20,Y,1,4,"app-product",7),$(21,"catalog"),a()),t&2&&(s(3),c("ngModel",n.currentPlatform),s(1),c("ngForOf",n.getPlatforms()),s(4),c("ngModel",n.priceMin),s(4),c("ngModel",n.priceMax),s(4),c("ngModel",n.nameFilter),s(3),E(n.numProducts)(n.numProducts),y(19),s(1),c("ngForOf",G(21,8,n.products,n.getFilters())));},dependencies:[I,j,q,W,B,U,z,D,X,K,x]});let r=e;return r;})();export{_e as CatalogComponent};/**i18n:b7b9e70e957b5630a2fe363431235bf94ddd2c557bc566e782ca9bfb7b64fb9a*/